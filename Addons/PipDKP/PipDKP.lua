PDKP = {}
local PDKP = PipDKP

local drops_database = {
	[16795] = {0, "|cFF9D9D9D"},
	[16796] = {0, "|cFF9D9D9D"},
	[16797] = {0, "|cFF9D9D9D"},
	[16798] = {0, "|cFF9D9D9D"},
	[16799] = {0, "|c9D9D9DFF"},
	[16800] = {0, "|cFF9D9D9D"},
	[16801] = {0, "|cFF9D9D9D"},
	[16802] = {0, "|c9D9D9DFF"},
	[16803] = {0, "|cFF9D9D9D"},
	[16804] = {0, "|cFF9D9D9D"},
	[16805] = {0, "|cFF9D9D9D"},
	[16806] = {0, "|c9D9D9DFF"},
	[16807] = {0, "|cFF9D9D9D"},
	[16808] = {0, "|cFF9D9D9D"},
	[16809] = {0, "|cFF9D9D9D"},
	[16810] = {0, "|cFF9D9D9D"},
	[16811] = {0, "|cFF9D9D9D"},
	[16812] = {0, "|cFF9D9D9D"},
	[16813] = {0, "|cFF9D9D9D"},
	[16814] = {0, "|cFF9D9D9D"},
	[16815] = {0, "|cFF9D9D9D"},
	[16816] = {0, "|cFF9D9D9D"},
	[16817] = {0, "|c9D9D9DFF"},
	[16818] = {25, "|cFF1EFF00"},
	[16819] = {0, "|c9D9D9DFF"},
	[16820] = {0, "|cFF9D9D9D"},
	[16821] = {0, "|cFF9D9D9D"},
	[16822] = {0, "|cFF9D9D9D"},
	[16823] = {0, "|cFF9D9D9D"},
	[16824] = {0, "|cFF9D9D9D"},
	[16825] = {0, "|c9D9D9DFF"},
	[16826] = {0, "|cFF9D9D9D"},
	[16827] = {0, "|c9D9D9DFF"},
	[16828] = {0, "|c9D9D9DFF"},
	[16829] = {0, "|cFF9D9D9D"},
	[16830] = {0, "|c9D9D9DFF"},
	[16831] = {0, "|cFF9D9D9D"},
	[16832] = {100, "|cFF0070DD"},
	[16833] = {0, "|cFF9D9D9D"},
	[16834] = {0, "|cFF9D9D9D"},
	[16835] = {0, "|cFF9D9D9D"},
	[16836] = {0, "|cFF9D9D9D"},
	[16845] = {0, "|cFF9D9D9D"},
	[16846] = {0, "|cFF9D9D9D"},
	[16847] = {0, "|cFF9D9D9D"},
	[16848] = {0, "|cFF9D9D9D"},
	[16849] = {0, "|cFF9D9D9D"},
	[16850] = {0, "|c9D9D9DFF"},
	[16851] = {0, "|c9D9D9DFF"},
	[16852] = {0, "|cFF9D9D9D"},
	[16853] = {0, "|cFF9D9D9D"},
	[16854] = {0, "|cFF9D9D9D"},
	[16855] = {0, "|cFF9D9D9D"},
	[16856] = {0, "|cFF9D9D9D"},
	[16857] = {0, "|c9D9D9DFF"},
	[16858] = {0, "|c9D9D9DFF"},
	[16859] = {0, "|cFF9D9D9D"},
	[16860] = {0, "|cFF9D9D9D"},
	[16861] = {0, "|c9D9D9DFF"},
	[16862] = {0, "|cFF9D9D9D"},
	[16863] = {0, "|cFF9D9D9D"},
	[16864] = {0, "|c9D9D9DFF"},
	[16865] = {0, "|cFF9D9D9D"},
	[16866] = {0, "|cFF9D9D9D"},
	[16867] = {0, "|cFF9D9D9D"},
	[16868] = {0, "|cFF9D9D9D"},
	[16897] = {120, "|cFF0070DD"},
	[16898] = {100, "|cFF0070DD"},
	[16899] = {70, "|cFF0070DD"},
	[16900] = {0, "|c9D9D9DFF"},
	[16901] = {0, "|cFF9D9D9D"},
	[16902] = {40, "|cFF1EFF00"},
	[16903] = {25, "|cFF1EFF00"},
	[16904] = {50, "|cFF0070DD"},
	[16905] = {120, "|cFF0070DD"},
	[16906] = {100, "|cFF0070DD"},
	[16907] = {70, "|cFF0070DD"},
	[16908] = {0, "|c9D9D9DFF"},
	[16909] = {0, "|cFF9D9D9D"},
	[16910] = {70, "|cFF0070DD"},
	[16911] = {50, "|cFF0070DD"},
	[16912] = {40, "|cFF1EFF00"},
	[16913] = {70, "|cFF0070DD"},
	[16914] = {0, "|c9D9D9DFF"},
	[16915] = {0, "|cFF9D9D9D"},
	[16916] = {50, "|cFF1EFF00"},
	[16917] = {40, "|cFF1EFF00"},
	[16918] = {15, "|cFF1EFF00"},
	[16919] = {100, "|cFF0070DD"},
	[16920] = {70, "|cFF0070DD"},
	[16921] = {0, "|c9D9D9DFF"},
	[16922] = {0, "|cFF9D9D9D"},
	[16923] = {120, "|cFFA335EE"},
	[16924] = {150, "|cFFA335EE"},
	[16925] = {70, "|cFF0070DD"},
	[16926] = {50, "|cFF0070DD"},
	[16927] = {40, "|cFF1EFF00"},
	[16928] = {25, "|cFF1EFF00"},
	[16929] = {0, "|c9D9D9DFF"},
	[16930] = {0, "|cFF9D9D9D"},
	[16931] = {50, "|cFF1EFF00"},
	[16932] = {40, "|cFF1EFF00"},
	[16933] = {25, "|cFF1EFF00"},
	[16934] = {15, "|cFF1EFF00"},
	[16935] = {50, "|cFF0070DD"},
	[16936] = {70, "|cFF0070DD"},
	[16937] = {150, "|cFFA335EE"},
	[16938] = {0, "|cFF9D9D9D"},
	[16939] = {0, "|c9D9D9DFF"},
	[16940] = {70, "|cFF0070DD"},
	[16941] = {100, "|cFF0070DD"},
	[16942] = {120, "|cFFA335EE"},
	[16951] = {50, "|cFF0070DD"},
	[16952] = {70, "|cFF0070DD"},
	[16953] = {100, "|cFF0070DD"},
	[16954] = {0, "|cFF9D9D9D"},
	[16955] = {0, "|c9D9D9DFF"},
	[16956] = {70, "|cFF0070DD"},
	[16957] = {100, "|cFF0070DD"},
	[16958] = {120, "|cFF0070DD"},
	[16959] = {50, "|cFF0070DD"},
	[16960] = {70, "|cFF0070DD"},
	[16961] = {100, "|cFF0070DD"},
	[16962] = {0, "|cFF9D9D9D"},
	[16963] = {0, "|c9D9D9DFF"},
	[16964] = {70, "|cFF0070DD"},
	[16965] = {100, "|cFF0070DD"},
	[16966] = {120, "|cFF0070DD"},
	[17063] = {120, "|cFF0070DD"},
	[17064] = {0, "|c9D9D9DFF"},
	[17065] = {0, "|cFF9D9D9D"},
	[17066] = {0, "|cFF9D9D9D"},
	[17067] = {0, "|c9D9D9DFF"},
	[17068] = {0, "|c9D9D9DFF"},
	[17069] = {70, "|cFF0070DD"},
	[17071] = {0, "|cFF9D9D9D"},
	[17072] = {0, "|cFF9D9D9D"},
	[17073] = {0, "|cFF9D9D9D"},
	[17074] = {0, "|cFF9D9D9D"},
	[17075] = {0, "|c9D9D9DFF"},
	[17076] = {190, "|cFF0070DD"},
	[17077] = {0, "|cFF9D9D9D"},
	[17078] = {0, "|c9D9D9DFF"},
	[17082] = {0, "|cFF9D9D9D"},
	[17102] = {40, "|cFF9D9D9D"},
	[17103] = {130, "|cFF0070DD"},
	[17104] = {85, "|cFF1EFF00"},
	[17105] = {0, "|cFF9D9D9D"},
	[17106] = {25, "|cFF1EFF00"},
	[17107] = {0, "|cFF9D9D9D"},
	[17109] = {0, "|cFF9D9D9D"},
	[17110] = {0, "|cFF9D9D9D"},
	[17203] = {0, "|cFF9D9D9D"},
	[17204] = {9000, "|cFF8000FF"},
	[18203] = {0, "|cFF9D9D9D"},
	[18205] = {0, "|c9D9D9DFF"},
	[18422] = {0, "|c9D9D9DFF"},
	[18563] = {9000, "|cFF8000FF"},
	[18564] = {9000, "|cFF8000FF"},
	[18646] = {0, "|cFF9D9D9D"},
	[18703] = {0, "|cFF9D9D9D"},
	[18705] = {0, "|c9D9D9DFF"},
	[18803] = {0, "|cFF9D9D9D"},
	[18805] = {60, "|cFF1EFF00"},
	[18806] = {0, "|cFF9D9D9D"},
	[18808] = {60, "|cFF0070DD"},
	[18809] = {60, "|cFF0070DD"},
	[18810] = {100, "|cFF0070DD"},
	[18811] = {0, "|cFF9D9D9D"},
	[18812] = {0, "|cFF9D9D9D"},
	[18813] = {0, "|c9D9D9DFF"},
	[18814] = {120, "|cFF0070DD"},
	[18815] = {0, "|cFF9D9D9D"},
	[18816] = {140, "|cFF0070DD"},
	[18817] = {0, "|cFF9D9D9D"},
	[18820] = {60, "|cFF1EFF00"},
	[18821] = {120, "|cFF0070DD"},
	[18822] = {0, "|cFF9D9D9D"},
	[18823] = {25, "|cFF9D9D9D"},
	[18824] = {0, "|cFF9D9D9D"},
	[18832] = {130, "|cFF0070DD"},
	[18842] = {85, "|cFF0070DD"},
	[18861] = {0, "|cFF9D9D9D"},
	[18870] = {0, "|c9D9D9DFF"},
	[18872] = {0, "|cFF9D9D9D"},
	[18875] = {110, "|cFF0070DD"},
	[18878] = {0, "|cFF9D9D9D"},
	[18879] = {50, "|cFF0070DD"},
	[19002] = {50, "|c9D9D9DFF"},
	[19003] = {50, "|cFF1EFF00"},
	[19136] = {70, "|cFF0070DD"},
	[19137] = {120, "|cFFA335EE"},
	[19138] = {0, "|cFF9D9D9D"},
	[19139] = {0, "|cFF9D9D9D"},
	[19140] = {120, "|cFF0070DD"},
	[19142] = {0, "|cFF9D9D9D"},
	[19143] = {70, "|cFF0070DD"},
	[19144] = {0, "|c9D9D9DFF"},
	[19145] = {110, "|cFF0070DD"},
	[19146] = {50, "|cFF1EFF00"},
	[19147] = {50, "|cFF0070DD"},
	[19334] = {180, "|cFF0070DD"},
	[19335] = {60, "|cFF1EFF00"},
	[19336] = {0, "|cFF9D9D9D"},
	[19337] = {0, "|cFF9D9D9D"},
	[19339] = {60, "|cFF1EFF00"},
	[19340] = {0, "|cFF9D9D9D"},
	[19341] = {60, "|cFF1EFF00"},
	[19342] = {0, "|cFF9D9D9D"},
	[19343] = {0, "|cFF9D9D9D"},
	[19345] = {0, "|cFF9D9D9D"},
	[19346] = {60, "|cFF1EFF00"},
	[19347] = {60, "|cFF1EFF00"},
	[19348] = {25, "|cFF1EFF00"},
	[19349] = {70, "|cFF0070DD"},
	[19350] = {25, "|cFF1EFF00"},
	[19351] = {70, "|cFF0070DD"},
	[19352] = {140, "|cFF0070DD"},
	[19353] = {85, "|cFF1EFF00"},
	[19354] = {0, "|cFF9D9D9D"},
	[19355] = {85, "|cFF1EFF00"},
	[19356] = {190, "|cFF0070DD"},
	[19357] = {0, "|cFF9D9D9D"},
	[19358] = {0, "|cFF9D9D9D"},
	[19360] = {140, "|cFF0070DD"},
	[19361] = {140, "|cFF0070DD"},
	[19362] = {25, "|cFF1EFF00"},
	[19363] = {140, "|cFF0070DD"},
	[19364] = {190, "|cFF0070DD"},
	[19365] = {60, "|cFF1EFF00"},
	[19367] = {25, "|cFF1EFF00"},
	[19368] = {0, "|cFF9D9D9D"},
	[19369] = {0, "|cFF9D9D9D"},
	[19370] = {100, "|cFF0070DD"},
	[19371] = {50, "|cFF9D9D9D"},
	[19372] = {50, "|cFF1EFF00"},
	[19373] = {0, "|cFF9D9D9D"},
	[19374] = {50, "|cFF0070DD"},
	[19375] = {170, "|cFFA335EE"},
	[19376] = {0, "|cFF9D9D9D"},
	[19377] = {120, "|cFF0070DD"},
	[19378] = {100, "|cFF0070DD"},
	[19379] = {190, "|cFFA335EE"},
	[19380] = {0, "|cFF9D9D9D"},
	[19381] = {100, "|cFF0070DD"},
	[19382] = {150, "|cFFA335EE"},
	[19385] = {120, "|cFF0070DD"},
	[19386] = {100, "|cFF0070DD"},
	[19387] = {150, "|cFFA335EE"},
	[19388] = {0, "|cFF9D9D9D"},
	[19389] = {90, "|cFF0070DD"},
	[19390] = {60, "|cFF0070DD"},
	[19391] = {0, "|cFF9D9D9D"},
	[19392] = {0, "|cFF9D9D9D"},
	[19393] = {0, "|c9D9D9DFF"},
	[19394] = {100, "|cFF0070DD"},
	[19395] = {190, "|cFFA335EE"},
	[19396] = {25, "|cFF1EFF00"},
	[19397] = {50, "|cFF1EFF00"},
	[19398] = {100, "|cFF0070DD"},
	[19399] = {0, "|cFF9D9D9D"},
	[19400] = {60, "|cFF0070DD"},
	[19401] = {0, "|cFF9D9D9D"},
	[19402] = {120, "|cFF0070DD"},
	[19403] = {120, "|cFF0070DD"},
	[19405] = {70, "|cFF0070DD"},
	[19406] = {190, "|cFFA335EE"},
	[19407] = {70, "|cFF0070DD"},
	[19430] = {100, "|cFF0070DD"},
	[19431] = {60, "|cFF1EFF00"},
	[19432] = {50, "|cFF1EFF00"},
	[19433] = {0, "|cFF9D9D9D"},
	[19434] = {120, "|cFF0070DD"},
	[19435] = {25, "|cFF1EFF00"},
	[19436] = {100, "|cFF0070DD"},
	[19437] = {100, "|cFF0070DD"},
	[19438] = {100, "|cFF0070DD"},
	[19439] = {0, "|cFF9D9D9D"},
	}

local function GetTooltipItemID(tt)
	local itemName,itemLink = tt:GetItem()

	if itemLink ~= nil then
		local itemString = string.match(itemLink, "item[%-?%d:]+")
		local itemId = select(2, strsplit(":", itemString))

		return itemId
	end
end

function addline_itemDKP(tt)
	local itemId = tonumber(GetTooltipItemID(tt))
	if itemId then
		local itemData = drops_database[itemId];

		if itemData then
			local color = itemData[2]
			if itemData[1] == 9000 then
				tt:AddLine("|cFF00CCFF>DKP |cFFFFFFFFMAIN: |cFFFF0000Pip only|cFFFFFFFF, Rest: |cFF00CCFF >"..itemData[1].."");
			elseif itemData[1] > 0 then
				local offspecDKP = itemData[1] / 5;
				tt:AddLine("|cFF00CCFF>DKP |cFFFFFFFFMAIN: "..color..itemData[1].."|cFFFFFFFF, OFF: "..color..offspecDKP);
			else				
				tt:AddLine("|cFF00CCFF>DKP |cFFFFFFFFMAIN: |cFF9D9D9DFREE/ROLL");
			end
			tt:Show(); 
		end
	end
end

ItemRefTooltip:HookScript("OnTooltipSetItem", addline_itemDKP)
GameTooltip:HookScript("OnTooltipSetItem", addline_itemDKP)
